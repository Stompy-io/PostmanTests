---
endpoints:
  - name: stompy api
    path: https://dev.api.stompy.io # The API's base url
    requests:
      - name: health_check_success # The name of the first request
        path: v1
        method: get # The HTTP method of the first request
        tests:
          - name: status_code_is_200 # The name of the first test for this request
            assert:  ${{ response.status_code == 200 }}  # The assertion
      - name: step1_register
        path: v1/register
        method: get
        tests:
          - name: status_code_is_200
            assert: ${{ response.status_code == 200 }}
      - name: step2_send_verification_email
        path: v1/send_email
        method: post
        tests:
          - name: status_code_is_200
            assert: ${{ response.status_code == 200 }}
      - name: step3_verify_code_from_email
        path: v1/verify_email
        method: post
        tests:
          - name: status_code_is_200
            assert: ${{ response.status_code == 200 }}
